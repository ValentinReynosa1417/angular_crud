- job:
    name: angular_jenkins_job
    description: 'This is my second jenkins job build'
    default: global 
    display-name: 'Angular job application'
    project-type: freestyle
    sandbox: true
    builders:
      - shell: |
              sudo apt-get install git -y
              sudo apt-get update
              sudo curl -sL https://deb.nodesource.com/setup_10.x -o nodesource_setup.sh
              sudo bash nodesource_setup.sh
              sudo apt update 
              sudo apt install nodejs -y
              nodejs -v
              #sudo apt install npm -y 
              sudo npm install -g @angular/cli
              #sudo npm install -g rxjs@6.3.3
              sudo npm install rxjs -g
              #sudo apt install nginx -y
              #workspace: /srv/build-area/job-name
              ng --version
              if [ -!d Angular_Hello_world_app ]; then
                git clone https://github.com/ChioSoCo/Angular_Hello_world_app
              fi
              cd Angular_Hello_world_app
              sudo npm install
              sudo npm audit fix
              ng build --prod
